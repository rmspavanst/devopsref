https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.3/html-single/red_hat_ansible_automation_platform_installation_guide/index

https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.3/html/getting_started_with_automation_hub/proc-create-api-token

https://www.jazakallah.info/post/to-install-configure-the-ansible-ansible-automation-hub

https://access.redhat.com/solutions/6733721 (to remove aap)


mkdir -p /etc/tower/

sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/tower/tower.key -out /etc/tower/tower.cert


https://www.insentragroup.com/nz/insights/geek-speak/modern-workplace/encrypting-the-password-of-the-postgresql-database-used-by-aap-controllers/


cp /etc/tower/conf.d/postgres.py /root/backup 

awx-manage shell_plus 

automation-controller-service stop 

On each AAP controller node, navigate to /etc/tower/conf.d  
Edit the postgres.py file and change it from the original format:
# Ansible Automation Platform controller database settings. 

 

DATABASES = { 

   'default': { 

       'ATOMIC_REQUESTS': True, 

       'ENGINE': 'awx.main.db.profiled_pg', 

       'NAME': 'awx', 

       'USER': 'awx', 

       'PASSWORD': """YOUR_DB_PASSWORD""", 

       'HOST': 'db.example.net', 

       'PORT': '5432', 

       'OPTIONS': { 'sslmode': 'prefer', 

                    'sslrootcert': '/etc/pki/tls/certs/ca-bundle.crt', 

       }, 

   } 

} 
Ensure that the following line is at the top of the postgres.py file: 
from awx.main.utils import decrypt_value, get_encryption_key 





# Ansible Automation Platform can help you to:

Accelerate business outcomes.
Orchestrate across teams.
Innovate at scale

# Red Hat Ansible Automation Platform Components

Ansible Core
CLI
Language
Framework
Functions

Ansible Content Collections
Automation Content Navigator
Automation Execution Environments
Automation Controller
Automation Hub and Private Automation Hub
Red Hat Insights for Red Hat Ansible Automation Platform






